#  bsub -W 4:00 -n 5  -R "span[hosts=1]" -o /gpfs/scratch60/fas/sbsc/ga254/grace0/stdout/sc05_computationalUNIT.sh.%J.out  -e /gpfs/scratch60/fas/sbsc/ga254/grace0/stderr/sc05_computationalUNIT.sh.%J.err bash /gpfs/home/fas/sbsc/ga254/scripts/GSHL/sc05_computationalUNIT.sh


export DIR=/project/fas/sbsc/ga254/grace0.grace.hpc.yale.internal/dataproces/GSHL


# full process more than 4 our


echo 0 1 2 3 4 5 6 7 8 9  | xargs -n 1 -P 5  bash -c $'
BIN=$1
oft-stat  -mm -noavg -nostd -i $DIR/GHS_BUILT_LDS2014_GLOBE_R2016A_54009_1k_v1_0_bin/GHS_BUILT_LDS2014_GLOBE_R2016A_54009_1k_v1_0_WGS84_bin${BIN}_clump.tif -o  $DIR/computationalUNIT/compunit_bin${BIN}_tmp.txt    -um $DIR/GHS_BUILT_LDS2014_GLOBE_R2016A_54009_1k_v1_0_watershad/GHS_BUILT_LDS2014_GLOBE_R2016A_54009_1k_v1_0_WGS84_ws_clump_msk.tif

awk \' {  print $1 , int($4)   }\'  $DIR/computationalUNIT/compunit_bin${BIN}_tmp.txt  >   $DIR/computationalUNIT/compunit_bin${BIN}.txt 
rm -f   $DIR/computationalUNIT/compunit_bin${BIN}_tmp.txt  

' _ 

paste -d " "  $DIR/computationalUNIT/compunit_bin0.txt <( awk '{  print $2 }' $DIR/computationalUNIT/compunit_bin1.txt )   <( awk '{  print $2 }' $DIR/computationalUNIT/compunit_bin2.txt ) <( awk '{  print $2 }'  $DIR/computationalUNIT/compunit_bin3.txt )   <( awk '{  print $2 }'  $DIR/computationalUNIT/compunit_bin4.txt ) <( awk '{  print $2 }'  $DIR/computationalUNIT/compunit_bin5.txt )   <( awk '{  print $2 }'  $DIR/computationalUNIT/compunit_bin6.txt )  <( awk '{  print $2 }'  $DIR/computationalUNIT/compunit_bin7.txt ) <( awk '{  print $2 }'  $DIR/computationalUNIT/compunit_bin8.txt ) <( awk '{  print $2 }'  $DIR/computationalUNIT/compunit_bin9.txt )  >  $DIR/computationalUNIT/compunit_binAll_cump.txt 


  




